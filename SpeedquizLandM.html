<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Speed Quiz — L & M Vocabulary</title>
<style>
  :root {
    --bg: #ccfbf1; /* Soft teal background */
    --panel: #ffffff;
    --accent: #0d9488; /* Teal accent */
    --good: #22c55e;
    --bad: #ef4444;
  }
  * { box-sizing: border-box; }
  body {
    font-family: 'Inter', system-ui, sans-serif;
    background: var(--bg);
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .quiz-container {
    background: var(--panel);
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    border-radius: 16px;
    padding: 30px;
    max-width: 650px;
    width: 90%;
    text-align: center;
  }
  h1 {
    font-size: 24px;
    color: var(--accent);
    margin-bottom: 20px;
  }
  .definition {
    font-size: 18px;
    margin-bottom: 30px;
    color: #1f2937;
  }
  .options {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  button.option {
    padding: 12px;
    border-radius: 8px;
    border: 2px solid var(--accent);
    background: #fff;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.25s ease;
  }
  button.option:hover { background: #ccfbf1; }
  button.option.correct {
    background: var(--good);
    color: #fff;
    border-color: var(--good);
  }
  button.option.wrong {
    background: var(--bad);
    color: #fff;
    border-color: var(--bad);
  }
  .progress-bar {
    height: 8px;
    background: #99f6e4;
    border-radius: 4px;
    margin-top: 20px;
    overflow: hidden;
  }
  .progress-inner {
    height: 100%;
    width: 100%;
    background: var(--accent);
    transition: width 1s linear;
  }
  .feedback {
    margin-top: 20px;
    font-weight: 600;
  }
  .final-screen {
    display: none;
    flex-direction: column;
    align-items: center;
  }
  .final-screen.show { display: flex; }
  .score {
    font-size: 22px;
    color: var(--accent);
    margin-bottom: 20px;
  }
  .btn {
    padding: 10px 18px;
    border-radius: 8px;
    border: none;
    background: var(--accent);
    color: #fff;
    cursor: pointer;
    font-size: 16px;
  }
  .quiz-progress { margin-bottom: 20px; }
  .round-bar {
    height: 10px;
    background: #99f6e4;
    border-radius: 6px;
    overflow: hidden;
    margin-top: 6px;
  }
  .round-inner {
    height: 100%;
    background: var(--accent);
    width: 0%;
    transition: width 0.4s ease;
  }
</style>
</head>
<body>

<div class="quiz-container" id="quiz">
  <h1>Speed Quiz — L & M Vocabulary</h1>

  <div class="quiz-progress">
    <span id="progressText">Question 0 / 0</span>
    <div class="round-bar">
      <div class="round-inner" id="roundInner"></div>
    </div>
  </div>

  <div id="quizContent">
    <div class="definition" id="definition"></div>
    <div class="options" id="options"></div>

    <div class="progress-bar">
      <div class="progress-inner" id="progressInner"></div>
    </div>
    <div class="feedback" id="feedback"></div>
  </div>

  <div class="final-screen" id="final">
    <div class="score" id="score"></div>
    <button class="btn" id="restart">Play Again</button>
  </div>
</div>

<script>
const ROUND1 = [
  {w:"Label", d:"(noun) A tag or name that tells what something is; (verb) to put something into a category"},
  {w:"Labour", d:"Work, especially hard or physical work"},
  {w:"Layer", d:"A level or part that is on top of or under another one"},
  {w:"Legislate", d:"To make or change laws"},
  {w:"Levy", d:"To officially demand and collect money, like a tax"},
  {w:"Liberal", d:"Open to new ideas or willing to change traditional ways"},
  {w:"Licence", d:"Official permission to do something"},
  {w:"Likewise", d:"In the same way"},
  {w:"Logic", d:"Clear and correct thinking"}
];

const ROUND2 = [
  {w:"Maintain", d:"To keep something in good condition"},
  {w:"Major", d:"Very important or large in amount"},
  {w:"Majority", d:"The larger number"},
  {w:"Manipulate", d:"To control something or someone, often unfairly"},
  {w:"Margin", d:"The space around the edge of a page; the difference between two amounts"},
  {w:"Mature", d:"Fully grown or developed"},
  {w:"Maximise", d:"To make something as large or as great as possible"},
  {w:"Mechanism", d:"A system or part that works to do something; or a way something works"},
  {w:"Mediate", d:"To help solve a disagreement between people"},
  {w:"Method", d:"A way of doing something"},
  {w:"Migrate", d:"To move to a new place to live or work"},
  {w:"Military", d:"Relating to soldiers or the army"},
  {w:"Minimal", d:"The smallest possible amount"},
  {w:"Minimise", d:"To make something as small as possible"},
  {w:"Minimum", d:"The smallest amount allowed or needed"},
  {w:"Ministry", d:"A government department"},
  {w:"Minor", d:"Small or not very important"},
  {w:"Minority", d:"The lesser number"},
  {w:"Mode", d:"A way or method of doing something"},
  {w:"Modify", d:"To change something a little bit"},
  {w:"Monitor", d:"To watch, check, or keep track of something"},
  {w:"Motive", d:"A reason for doing something"},
  {w:"Mutual", d:"Shared by two or more people"}
];

let rounds = [ROUND1, ROUND2];
let quizData = [];
let current = 0;
let score = 0;
let round = 0;
let timer;
let timeLeft = 20;

const defEl = document.getElementById('definition');
const optsEl = document.getElementById('options');
const fbEl = document.getElementById('feedback');
const barEl = document.getElementById('progressInner');
const roundInner = document.getElementById('roundInner');
const progressText = document.getElementById('progressText');
const finalEl = document.getElementById('final');
const quizEl = document.getElementById('quizContent');
const scoreEl = document.getElementById('score');
const restartBtn = document.getElementById('restart');

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

function setupQuiz(){
  round = 0;
  score = 0;
  finalEl.classList.remove('show');
  quizEl.style.display = 'block';
  startRound();
}

function startRound(){
  if(round >= rounds.length){
    endQuiz();
    return;
  }
  quizData = shuffle([...rounds[round]]);
  current = 0;
  nextQuestion();
}

function nextQuestion(){
  if(current >= quizData.length){
    round++;
    startRound();
    return;
  }
  const q = quizData[current];
  defEl.textContent = q.d;
  fbEl.textContent = '';
  const opts = [q.w];
  const allWords = rounds.flat();
  while(opts.length < 3){
    const r = allWords[Math.floor(Math.random()*allWords.length)].w;
    if(!opts.includes(r)) opts.push(r);
  }
  shuffle(opts);
  optsEl.innerHTML = '';
  opts.forEach(opt=>{
    const btn = document.createElement('button');
    btn.className='option';
    btn.textContent=opt;
    btn.onclick = ()=>selectAnswer(btn,opt===q.w);
    optsEl.appendChild(btn);
  });
  timeLeft = 20;
  updateBar();
  updateProgressDisplay();
  clearInterval(timer);
  timer = setInterval(()=>{ 
    timeLeft--; 
    updateBar(); 
    if(timeLeft<=0){ 
      clearInterval(timer); 
      showCorrect(); 
    }
  },1000);
}

function updateProgressDisplay(){
  const totalRounds = rounds.length;
  const totalQuestions = rounds[round]?.length || 0;
  progressText.textContent = `Round ${round+1} — Question ${current + 1} / ${totalQuestions}`;
  const completed = (round * ROUND1.length) + current;
  const total = ROUND1.length + ROUND2.length;
  roundInner.style.width = (completed/total*100) + "%";
}

function updateBar(){
  barEl.style.width = (timeLeft/20*100)+'%';
}

function selectAnswer(btn,correct){
  clearInterval(timer);
  if(correct){
    btn.classList.add('correct');
    fbEl.textContent='✅ Correct!';
    score++;
  } else {
    btn.classList.add('wrong');
    fbEl.textContent='❌ Wrong!';
    showCorrect();
    return;
  }
  setTimeout(()=>{ current++; nextQuestion(); },1000);
}

function showCorrect(){
  const q = quizData[current];
  const buttons = optsEl.querySelectorAll('button');
  buttons.forEach(b=>{
    if(b.textContent===q.w) b.classList.add('correct');
  });
  setTimeout(()=>{ current++; nextQuestion(); },1500);
}

function endQuiz(){
  quizEl.style.display='none';
  finalEl.classList.add('show');
  const total = ROUND1.length + ROUND2.length;
  scoreEl.textContent = `Your Final Score: ${score} / ${total}`;
  roundInner.style.width = '100%';
  progressText.textContent = `Completed both rounds!`;
}

restartBtn.onclick = setupQuiz;
setupQuiz();
</script>

</body>
</html>
